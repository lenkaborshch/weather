(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{123:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n(0),a=n.n(r),i=n(13),o=n.n(i),s=(n(94),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,170)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))}),u=(n(95),n(15)),d=n(39),j=n.n(d),l=n(56),b=n(58),p=n(71),h="d047497993add0ea996af560b7e11c70",f=n.n(p).a.create({baseURL:"https://api.openweathermap.org/"}),m=function(e){return f.get("data/2.5/weather?appid=".concat(h,"&units=metric&q=").concat(e)).then((function(e){return e.data}))},O=function(e){return f.get("data/2.5/group?id=".concat(e,"&appid=").concat(h,"&units=metric")).then((function(e){return e.data}))},x=n(20),y="TOGGLE_IS_LOADING",g="SET_ERROR",v={isLoading:!1,error:null},C=function(e){return{type:y,isLoading:e}},w=function(e){return{type:g,error:e}},N="ADD_CITY_CARD",S="DELETE_CITY_CARD",D="UPDATE_CITY_CARD",T=[],_=function(e){return{type:N,cityCard:e}},I=function(e,t){return function(){var n=Object(l.a)(j.a.mark((function n(c,r){var a,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(C(!0)),n.next=4,m(e);case 4:a=n.sent,"ADD"===t?(i=r().citiesCards.find((function(e){return e.id===a.id})),c(i?w("This city was selected"):_(a))):"UPDATE"===t&&c({type:D,cityCard:a}),c(C(!1)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),c(w("Error! This city not found")),c(C(!1));case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()},A=n(151),E=n(169),L=n(157),F=n(167),k=n(154),R=n(76),J=n.n(R),B=n(155),P=n(48),M=n(153),W=function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()];return"".concat(n," ").concat(e.getDate()," ").concat(t)}(new Date),H=Object(A.a)((function(){return Object(E.a)({refreshBtn:{paddingRight:"5px"},deleteBtn:{paddingLeft:"5px"},cityName:{lineHeight:"1"},headerCard:{maxHeight:"50px"}})})),U=a.a.memo((function(e){var t=e.cityId,n=e.cityName,r=Object(u.b)(),a=H();return Object(c.jsx)(M.a,{className:a.headerCard,action:Object(c.jsxs)("div",{children:[Object(c.jsx)(F.a,{title:"Refresh",children:Object(c.jsx)(k.a,{className:a.refreshBtn,onClick:function(){r(I(n,"UPDATE"))},children:Object(c.jsx)(J.a,{})})}),Object(c.jsx)(F.a,{title:"Delete",children:Object(c.jsx)(k.a,{className:a.deleteBtn,onClick:function(){r(function(e){return{type:S,cityId:e}}(t))},children:Object(c.jsx)(B.a,{})})})]}),title:Object(c.jsx)(P.a,{variant:"h5",component:"h1",className:a.cityName,children:n}),subheader:W})})),Y=n(156),G=Object(A.a)((function(){return Object(E.a)({tempNow:{textAlign:"center",fontSize:"30px"},iconWeather:{display:"block",marginLeft:"auto",marginRight:"auto"}})})),z=a.a.memo((function(e){var t=e.infoTemp,n=e.wind,r=e.icon;t=function(e){for(var t in e)e[t]=Math.round(e[t]);return e}(t);var a=G();return Object(c.jsxs)(Y.a,{children:[Object(c.jsxs)(P.a,{variant:"h5",component:"p",className:a.tempNow,children:[t.temp,"\xb0C"]}),Object(c.jsx)("img",{className:a.iconWeather,src:"https://openweathermap.org/img/wn/".concat(r,"@2x.png"),alt:"weatherImage"}),Object(c.jsxs)(P.a,{variant:"body2",color:"textSecondary",component:"p",children:["Feels like: ",t.feels_like," \u2103"]}),Object(c.jsxs)(P.a,{variant:"body2",color:"textSecondary",component:"p",children:["High: ",t.temp_max," \u2103"]}),Object(c.jsxs)(P.a,{variant:"body2",color:"textSecondary",component:"p",children:["Low: ",t.temp_min," \u2103"]}),Object(c.jsxs)(P.a,{variant:"body2",color:"textSecondary",component:"p",children:["Wind: ",n.speed," m/s"]})]})})),q=Object(A.a)((function(){return Object(E.a)({root:{width:250,height:350,background:"rgba(242, 173, 104, 0.6)"}})})),V=a.a.memo((function(e){var t=e.cityId,n=e.cityName,r=e.infoTemp,a=e.wind,i=e.icon,o=q();return Object(c.jsxs)(L.a,{className:o.root,children:[Object(c.jsx)(U,{cityId:t,cityName:n}),Object(c.jsx)(z,{infoTemp:r,wind:a,icon:i})]})})),K=n(159),Q=n(160),X=n(161),Z=n(162),$=n(163),ee=n(80),te=n(57),ne=n.n(te),ce=n(164),re=n(158),ae=a.a.memo((function(){var e=Object(u.c)((function(e){return e.app.isLoading})),t=Object(u.b)(),n=Object(ee.a)({initialValues:{cityName:""},onSubmit:function(e){t(I(e.cityName,"ADD")),n.resetForm()}});return Object(c.jsxs)("form",{onSubmit:n.handleSubmit,className:ne.a.formSearch,children:[Object(c.jsx)(ce.a,Object(x.a)(Object(x.a)({placeholder:"City"},n.getFieldProps("cityName")),{},{onChange:n.handleChange,value:n.values.cityName,className:ne.a.inputFormSearch})),Object(c.jsx)(re.a,{type:"submit",disabled:e||!n.values.cityName,variant:"contained",color:"primary",children:"Add"})]})})),ie=n(168),oe=n(165),se=function(e){return Object(c.jsx)(oe.a,Object(x.a)({elevation:6,variant:"filled"},e))},ue=function(){var e=Object(u.c)((function(e){return e.app.error})),t=Object(u.b)(),n=function(e,n){"clickaway"!==n&&t(w(null))};return Object(c.jsx)(ie.a,{open:!!e,autoHideDuration:6e3,onClose:n,children:Object(c.jsx)(se,{onClose:n,severity:"error",children:e})})},de=function(){var e=Object(u.c)((function(e){return e.citiesCards})),t=Object(u.c)((function(e){return e.app.isLoading})),n=Object(u.c)((function(e){return e.app.error})),a=Object(u.b)(),i=e.map((function(e){return Object(c.jsx)(K.a,{item:!0,children:Object(c.jsx)(V,{cityId:e.id,cityName:e.name,infoTemp:e.main,wind:e.wind,icon:e.weather[0].icon})},e.id)}));return Object(r.useEffect)((function(){var e=localStorage.getItem("cityCards");if(e&&"[]"!==e){var t=JSON.parse(e).reverse().join();a(function(e){return function(){var t=Object(l.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(C(!0)),t.next=4,O(e);case 4:t.sent.list.forEach((function(e){return n(_(e))})),n(C(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n(w("Error!")),n(C(!1));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}),[a]),Object(r.useEffect)((function(){localStorage.setItem("cityCards",JSON.stringify(e.map((function(e){return e.id}))))}),[e]),Object(c.jsxs)("div",{className:"App",children:[n&&Object(c.jsx)(ue,{}),Object(c.jsxs)(Q.a,{position:"static",children:[Object(c.jsx)(X.a,{children:Object(c.jsx)(P.a,{variant:"h6",children:"Weather"})}),t&&Object(c.jsx)(Z.a,{color:"secondary"})]}),Object(c.jsxs)($.a,{fixed:!0,children:[Object(c.jsx)(ae,{}),Object(c.jsx)(K.a,{container:!0,spacing:3,children:i})]})]})},je=n(33),le=n(79),be=Object(je.c)({citiesCards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return[t.cityCard].concat(Object(b.a)(e));case S:return e.filter((function(e){return e.id!==t.cityId}));case D:var n=e.findIndex((function(e){return e.id===t.cityCard.id}));return e[n]=t.cityCard,Object(b.a)(e);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(x.a)(Object(x.a)({},e),{},{isLoading:t.isLoading});case g:return Object(x.a)(Object(x.a)({},e),{},{error:t.error});default:return e}}}),pe=Object(je.d)(be,Object(je.a)(le.a));window.store=pe,o.a.render(Object(c.jsx)(u.a,{store:pe,children:Object(c.jsx)(de,{})}),document.getElementById("root")),s()},57:function(e,t,n){e.exports={formSearch:"CitySearchForm_formSearch__2isJ9",inputFormSearch:"CitySearchForm_inputFormSearch__YBbzO"}},94:function(e,t,n){},95:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.a90eeef5.chunk.js.map